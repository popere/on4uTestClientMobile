!function(){"use strict";angular.module("on4uTestClient",["ngTouch","ui.router","ui.bootstrap","toastr"])}(),function(){"use strict";function e(e){function t(){e.go("home")}function o(){e.go("products")}var r={goToHome:t,goToProducts:o};return r}e.$inject=["$state"],angular.module("on4uTestClient").factory("tools",e)}(),function(){"use strict";function e(e,t,o,r){function n(e){return e?(p=e,!0):!1}function c(){p=o}function a(){return p}function i(){function o(t){return e.error("response",t),angular.isUndefined(t.data)?[]:t.data}function n(t){return e.error("Request failed for getListProducts.\n"+angular.toJson(t,!0)),r.reject(t)}return t.get(p+"/products").then(o)["catch"](n)}function s(o){function n(e){return e.data}function c(t){return e.error("Request failed for getProduct.\n"+angular.toJson(t.data,!0)),r.reject(t)}return angular.isNumber(o)?t.get(p+"/products/"+o).then(n)["catch"](c):null}function l(o){function n(e){return e.data}function c(t){return e.error("Request failed for postProduct.\n"+angular.toJson(t.data,!0)),r.reject(t)}return o&&o.price&&o.sku&&o.name?t.post(p+"/products",o).then(n)["catch"](c):null}function d(o){function n(e){return e.data}function c(t){return e.error("Request failed for deleteProduct.\n"+angular.toJson(t.data,!0)),r.reject(t)}return angular.isNumber(o)?t["delete"](p+"/products/"+o).then(n)["catch"](c):null}function u(o,n){function c(e){return e.data}function a(t){return e.error("Request failed for updateProduct.\n"+angular.toJson(t.data,!0)),r.reject(t)}return t.put(p+"/products/"+o,n).then(c)["catch"](a)}var p=o,m={getListOfProducts:i,getProduct:s,createProduct:l,deleteProduct:d,updateProduct:u,modifyUrlApi:n,getCurrentUrlApi:a,resetUrlApi:c};return m}e.$inject=["$log","$http","ipApiByDefault","$q"],angular.module("on4uTestClient").factory("productService",e)}(),function(){"use strict";function e(){function e(e,t){var o={tienda:"Tienda de Pablo",gestion:"Gestión de productos",about:"Sobre Pablo",config:"Configuración"},r={products:"gestion",create:"gestion",edit:"gestion",about:"about",config:"config",home:"tienda"},n=this;n.currentState,n.collapsed=!1,n.isState=function(t){n.currentState=e.current.name;var o="gestion"===t&&("products"===n.currentState||"create"===n.currentState||"edit"===n.currentState),r="about"===t&&"about"===n.currentState,c="tienda"===t&&"home"===n.currentState,a="config"===t&&"config"===n.currentState;return o||r||c||a},n.titleXs=function(){return o[r[e.current.name]]},n.goHome=function(){t.goToHome()}}e.$inject=["$state","tools"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("on4uTestClient").directive("navbar",e)}(),function(){"use strict";function e(e,t,o,r){function n(){t.getListOfProducts().then(function(t){c.products=t,c.loadFailed=!1,e.success("Recuperación exitosa de los productos.")})["catch"](function(t){o.error(t),e.error("Error en la recuperación de la lista de productos del servidor."),c.loadFailed=!0})}var c=this;c.products=[],c.order={category:"sku",direction:"+"},c.loadFailed=!1,n(),c.orderBy=function(e){c.order.category===e?c.order.direction="+"===c.order.direction?"-":"+":(c.order.category=e,c.order.direction="+")},c.isOrdered=function(e,t){return e===c.order.direction&&t===c.order.category},c.createProduct=function(){r.go("create")},c.modify=function(e){r.go("edit",{productId:e.id})},c["delete"]=function(r){t.deleteProduct(r.id).then(function(){o.info("Delete of product has been done, product deleted"),n(),e.success("Producto (SKU: "+r.sku+") eliminado correctamente de la lista")})["catch"](function(t){o.error(t),e.success("Error durante la eliminación del producto (SKU: "+r.sku+")")})}}e.$inject=["toastr","productService","$log","$state"],angular.module("on4uTestClient").controller("MainController",e)}(),function(){"use strict";function e(e,t,o){function r(){t.getListOfProducts().then(function(t){n.products=t,n.loadFailed=!1,e.success("Recuperación éxitosa de los productos.")})["catch"](function(t){o.error(t),e.error("Error en la recuperación de la lista de productos del servidor."),n.loadFailed=!0})}var n=this;n.products=[],n.order={category:"sku",direction:"+"},n.loadFailed=!1,r(),n.orderBy=function(e){n.order.category===e?n.order.direction="+"===n.order.direction?"-":"+":(n.order.category=e,n.order.direction="+")},n.isOrdered=function(e,t){return e===n.order.direction&&t===n.order.category}}e.$inject=["toastr","productService","$log"],angular.module("on4uTestClient").controller("HomeController",e)}(),function(){"use strict";function e(e,t,o,r,n){function c(){var e=parseInt(r.productId);t.getProduct(e).then(function(e){a.productModified=e,a.productBefore=angular.copy(e)})["catch"](function(e){o.error(e)})}var a=this;a.productModified={name:"",sku:"",price:""},c(),a.edit=function(){var r=a.productModified&&a.productModified.name,c=a.productModified&&a.productModified.sku,i=a.productModified&&a.productModified.price,s=i&&i>0;if(s||e.error("El precio del producto debe estar relleno y ser superior a 0."),c||e.error("El SKU del producto debe estar relleno."),r||e.error("El nombre del producto debe estar relleno."),s&&c&&r){var l=parseInt(a.productModified.id);t.updateProduct(l,a.productModified).then(function(t){o.info("Edit of product correct",t),n.goToProducts(),e.success("Modificación del producto (SKU: "+a.productModified.sku+") con éxito.")})["catch"](function(t){o.error(t),e.success("Error durante la modificación del producto (SKU: "+a.product.sku+").")})}},a.reset=function(){a.product=a.productBefore},a.returnToHome=function(){n.goToProducts()}}e.$inject=["toastr","productService","$log","$stateParams","tools"],angular.module("on4uTestClient").controller("EditController",e)}(),function(){"use strict";function e(e,t,o,r,n){var c=this;c.product={name:"",sku:"",price:""},c.create=function(){var e=c.product&&c.product.name,a=c.product&&c.product.sku,i=c.product&&c.product.price,s=i&&i>0;s||n.error("El precio del producto debe estar relleno y ser superior a 0."),a||n.error("El SKU del producto debe estar relleno."),e||n.error("El nombre del producto debe estar relleno."),s&&a&&e&&t.createProduct(c.product).then(function(e){o.info("Creation of product correct",e),r.goToProducts(),n.success("Creación del nuevo producto (SKU: "+c.product.sku+") con exito.")})["catch"](function(e){o.error(e),n.error("Error en la creación del nuevo producto (SKU: "+c.product.sku+").")})},c.removeAll=function(){c.product={name:"",sku:"",price:""}},c.returnToHome=function(){r.goToProducts()}}e.$inject=["$state","productService","$log","tools","toastr"],angular.module("on4uTestClient").controller("CreateController",e)}(),function(){"use strict";function e(e,t,o){var r=this;r.newUrlApi=e.getCurrentUrlApi(),r.save=function(){if(r.newUrlApi){var o=e.modifyUrlApi(r.newUrlApi);o&&(r.returnToHome(),t.success("Configuración guardada con éxito."))}else t.error("Por favor introduce la URL.")},r.reset=function(){e.resetUrlApi(),r.newUrlApi=e.getCurrentUrlApi(),t.success("Configuración restaurada con éxito.")},r.returnToHome=function(){o.goToProducts()}}e.$inject=["productService","toastr","tools"],angular.module("on4uTestClient").controller("ConfigController",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("on4uTestClient").run(e)}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"home"}).state("products",{url:"/products",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("create",{url:"/create",templateUrl:"app/create/create.html",controller:"CreateController",controllerAs:"create"}).state("edit",{url:"/edit/:productId",templateUrl:"app/edit/edit.html",controller:"EditController",controllerAs:"edit"}).state("config",{url:"/config",templateUrl:"app/config/config.html",controller:"ConfigController",controllerAs:"config"}).state("about",{url:"/about",templateUrl:"app/about/about.html"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("on4uTestClient").config(e)}(),function(){"use strict";angular.module("on4uTestClient").constant("ipApiByDefault","http://localhost:8000")}(),function(){"use strict";function e(e,t,o){e.debugEnabled(!0),o.defaults.headers.common.Accept="application/json",o.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",o.defaults.headers.put["Content-Type"]="application/json; charset=utf-8",t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-bottom-center",t.preventDuplicates=!1,t.progressBar=!0}e.$inject=["$logProvider","toastrConfig","$httpProvider"],angular.module("on4uTestClient").config(e)}(),angular.module("on4uTestClient").run(["$templateCache",function(e){e.put("app/about/about.html",'<div class="jumbotron col-xs-12 col-md-6" style="height: 100%"><div class=col-xs-4><img width=100% height=auto alt=pablo src=assets/images/pablo.png></div><div class="text-center col-xs-8 about-item"><h3>Autor: Pablo Operé Portero</h3><h4>Mail: <a href=mailto:popere@gmail.com>popere@gmail.com</a></h4><h5>Linkedin: <a href=https://www.linkedin.com/in/popere/ >https://www.linkedin.com/in/popere</a></h5></div><div class=col-xs-12><h3>" Me ha encantado realizar este prototipo para la prueba técnica de candidatos de ON4U. Espero que os guste de la misma manera que yo me he entretenido realizándola."</h3></div></div><div class="col-xs-12 col-md-6"><h1>CV de Pablo:</h1><embed src=assets/cv/cv.pdf width=100% height=500 alt=pdf></div>'),e.put("app/config/config.html",'<div class="col-xs-12 flex"><h3 class=text-center>Configuración de la tienda <img height=47px width=auto alt=logo src=assets/images/logo.svg> de Pablo</h3></div><div class=row><div class=col-xs-12></div><div class="col-xs-12 col-sm-8 col-md-6"><p class=form-group><label>Nueva URL de la API del backend:</label><input type=text ng-model=config.newUrlApi class=form-control></p></div><div class=col-xs-12><button type=button class="col-xs-3 btn btn-info" ng-click=config.returnToHome()>◀ VOLVER</button> <button type=button class="col-xs-offset-3 col-xs-3 btn btn-default" ng-click=config.reset()>✖ RESET</button> <button type=button class="col-xs-3 btn btn-primary" ng-click=config.save()>✚ GUARDAR</button></div></div>'),e.put("app/create/create.html",'<div class=row><div class="col-xs-12 col-sm-8 col-md-6"><h4>Añadir un nuevo producto</h4><p class=form-group><label>SKU del producto</label><input type=text ng-model=create.product.sku placeholder="SKU del producto, ejemplo: E18467U" class=form-control></p><p class=form-group><label>Nombre del producto</label><input type=text ng-model=create.product.name placeholder="Nombre del producto, ejemplo: Cámara de fotos" class=form-control></p><p class=form-group><label>Precio del producto (€)</label><input type=number ng-model=create.product.price placeholder="Precio del producto, ejemplo: 124" class=form-control></p></div><div class=col-xs-12><button type=button class="col-xs-3 btn btn-info" uib-tooltip=VOLVER ng-click=create.returnToHome()>◀ VOLVER</button> <button type=button class="col-xs-offset-3 col-xs-3 btn btn-default" uib-tooltip="BORRAR TODO" ng-click=create.removeAll()>✖ BORRAR TODO</button> <button type=button class="col-xs-3 btn btn-primary" uib-tooltip=CREAR ng-click=create.create()>✚ CREAR</button></div></div>'),e.put("app/edit/edit.html",'<div class=row><div class=col-xs-12><div class=flex><h4>Modificación del producto ►</h4><h4 style="display: inline"><b>SKU:</b> {{edit.productBefore.sku}}<br><b>Nombre:</b> {{edit.productBefore.name}}<br><b>Price:</b> {{edit.productBefore.price}}</h4></div><div class="col-xs-12 col-sm-8 col-md-6"><p class=form-group><label>Nuevo SKU del producto</label><input type=text ng-model=edit.productModified.sku class=form-control></p><p class=form-group><label>Nuevo nombre del producto</label><input type=text ng-model=edit.productModified.name class=form-control></p><p class=form-group><label>Nuevo precio del producto (€)</label><input type=number ng-model=edit.productModified.price class=form-control></p></div></div><div class=col-xs-12><button type=button class="col-xs-3 btn btn-info" ng-click=edit.returnToHome()>◀ VOLVER</button> <button type=button class="col-xs-offset-3 col-xs-3 btn btn-default" ng-click=edit.reset()>✖ BORRAR TODO</button> <button type=button class="col-xs-3 btn btn-primary" ng-click=edit.edit()>✔ GUARDAR MODIFICACIÓN</button></div></div>'),e.put("app/home/home.html",'<div class="col-xs-12 flex"><h2 class=text-center>Bienvenid@ al catálogo de la tienda <img height=47px width=auto alt=logo src=assets/images/logo.svg> de Pablo</h2></div><h3 ng-if="!home.loadFailed && home.products.length === 0">Actualmente no tenemos ningún producto en venta, clique en <a ui-sref=products>Gestión de productos</a> para añadir nuevos artículos en venta</h3><h3 ng-if=home.loadFailed>Hemos detectado <b style="color: red">problemas de conexión al servidor</b>, para intentar arreglarlo clique en <a ui-sref=config>Configuración</a> para intentar arreglarlo cambiando la url del Backend</h3><h4 ng-if="home.products.length !== 0">Lista de productos en venta:</h4><div class=row ng-if="home.products.length !== 0"><div class="col-sm-12 col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8"><div class="col-xs-12 background-products-title"><div class="col-xs-4 text-center click-mouse" ng-click="home.orderBy(\'sku\')"><b>SKU</b> <span ng-show="home.isOrdered(\'+\',\'sku\')">▲</span> <span ng-show="home.isOrdered(\'-\',\'sku\')">▼</span></div><div class="col-xs-4 text-center click-mouse" ng-click="home.orderBy(\'name\')"><b>NOMBRE</b> <span ng-show="home.isOrdered(\'+\',\'name\')">▲</span> <span ng-show="home.isOrdered(\'-\',\'name\')">▼</span></div><div class="col-xs-4 text-center click-mouse" ng-click="home.orderBy(\'price\')"><b>PRECIO (€)</b> <span ng-show="home.isOrdered(\'+\',\'price\')">▲</span> <span ng-show="home.isOrdered(\'-\',\'price\')">▼</span></div></div><div class="col-xs-12 text-center" ng-class="index % 2 ? \'background-products-pair\': \'background-products-odd\'" ng-repeat="(index,product) in home.products | orderBy: home.order.direction + home.order.category"><div class=col-xs-4 uib-tooltip={{product.sku}}>{{product.sku}}</div><div class=col-xs-4 uib-tooltip={{product.name}}>{{product.name}}</div><div class=col-xs-4 uib-tooltip={{product.price}}>{{product.price}}</div></div></div></div>'),e.put("app/main/main.html",'<button ng-if=!main.loadFailed type=button class="btn btn-success" ng-click=main.createProduct()>✚ AÑADIR NUEVO PRODUCTO</button><h4 ng-if="!main.loadFailed && main.products.length === 0">Por favor añada su primer producto mediante el botón AÑADIR NUEVO PRODUCTO:</h4><h3 ng-if=main.loadFailed>Hemos detectado <b style="color: red">problemas de conexión al servidor</b>, para intentar arreglarlo clique en <a ui-sref=config>Configuración</a> para intentar arreglarlo cambiando la url del Backend</h3><div class=row ng-if="main.products.length !== 0"><div class=col-xs-12><h3>Gestión de los productos en venta:</h3></div><div class=col-xs-12><div class="col-xs-12 background-products-title gestion-margin"><div class="col-xs-3 text-center" ng-click="main.orderBy(\'sku\')"><b>SKU</b> <span ng-show="main.isOrdered(\'+\',\'sku\')">▲</span> <span ng-show="main.isOrdered(\'-\',\'sku\')">▼</span></div><div class="col-xs-3 text-center click-mouse" ng-click="main.orderBy(\'name\')"><b>NOMBRE</b> <span ng-show="main.isOrdered(\'+\',\'name\')">▲</span> <span ng-show="main.isOrdered(\'-\',\'name\')">▼</span></div><div class="col-xs-3 text-center click-mouse" ng-click="main.orderBy(\'price\')"><b>PRECIO (€)</b> <span ng-show="main.isOrdered(\'+\',\'price\')">▲</span> <span ng-show="main.isOrdered(\'-\',\'price\')">▼</span></div><div class="col-xs-3 text-center"><b>ACCIONES</b></div></div></div><div class=col-xs-12><div ng-repeat="(index,product) in main.products | orderBy: main.order.direction + main.order.category"><div class="col-xs-9 text-center properties-product" ng-class="index % 2 ? \'background-products-pair\': \'background-products-odd\'"><div class="col-xs-4 property-product" uib-tooltip={{product.sku}}>{{product.sku}}</div><div class="col-xs-4 property-product" uib-tooltip={{product.name}}>{{product.name}}</div><div class="col-xs-4 property-product" uib-tooltip={{product.price}}>{{product.price}}</div></div><div class="col-xs-3 text-center action-buttons"><button type=button class="btn btn-primary" uib-tooltip=MODIFICAR ng-click=main.modify(product)>✎ <span class=hidden-xs>MODIFICAR</span></button> <button type=button class="btn btn-danger" uib-tooltip=ELIMINAR ng-click=main.delete(product)>✖ <span class=hidden-xs>ELIMINAR</span></button></div></div></div></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse hidden-xs"><div class=container-fluid><div class="navbar-header flex"><img height=47px width=auto alt=logo class="logo click-mouse" src=assets/images/logo.svg ng-click=vm.goHome()> <a ui-sref=home ng-class="vm.isState(\'tienda\') ? \'active\': \'\'" class=navbar-brand>Tienda de Pablo</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li ng-class="vm.isState(\'gestion\') ? \'active\': \'\'"><a ui-sref=products>Gestión de productos</a></li><li ng-class="vm.isState(\'about\') ? \'active\': \'\'"><a ui-sref=about>Sobre Pablo</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li ng-class="vm.isState(\'config\')"><a ui-sref=config>Configuración</a></li></ul></div></div></nav><nav class="navbar navbar-static-top navbar-inverse hidden-sm hidden-md hidden-lg"><div class=container-fluid><div class="navbar-header click-mouse" ng-click="vm.collapsed = !vm.collapsed"><img height=47px width=auto class="logo-xs click-mouse" src=assets/images/logo.svg ng-click=vm.goHome()> <a class=navbar-brand ng-bind=vm.titleXs()></a><div class=chevron><span ng-show=vm.collapsed>▲</span> <span ng-show=!vm.collapsed>▼</span></div></div><ul class="nav navbar-nav" ng-show=vm.collapsed><li ng-class="vm.isState(\'tienda\') ? \'active\': \'\'"><a ng-click="vm.collapsed = !vm.collapsed" ui-sref=home>Tienda de Pablo</a></li><li ng-class="vm.isState(\'gestion\') ? \'active\': \'\'"><a ng-click="vm.collapsed = !vm.collapsed" ui-sref=products>Gestión de productos</a></li><li ng-class="vm.isState(\'about\') ? \'active\': \'\'"><a ng-click="vm.collapsed = !vm.collapsed" ui-sref=about>Sobre Pablo</a></li><li ng-class="vm.isState(\'config\') ? \'active\': \'\'"><a ng-click="vm.collapsed = !vm.collapsed" ui-sref=config>Configuración</a></li></ul></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-81021b2f26.js.map
